(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{19:function(t,e,n){},21:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/comments.475722ba.svg"},23:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){"use strict";n.r(e);var c=n(0),s=n.n(c),r=n(13),a=n.n(r),o=n(5),i=n.n(o),j=n(8),u=n(4),b=(n(19),n(1)),p=function(){return Object(b.jsx)("nav",{children:Object(b.jsx)("h1",{children:"Just a simple blog."})})},l=(n(21),n(2)),h=n(6),m=function(t){var e=t.posts.filter((function(t){return!0===t.visible})),c=Object(l.f)();return Object(b.jsx)("div",{className:"posts-container",children:e.map((function(t,e){return Object(b.jsxs)("div",{className:"post-container",children:[Object(b.jsx)("h2",{children:t.title}),Object(b.jsxs)("h3",{children:[" by ",t.author]}),t.timestamp&&Object(b.jsxs)("p",{children:[Object(h.a)(new Date(t.timestamp),new Date)," ","ago"]}),Object(b.jsxs)("div",{className:"comments-container",children:[Object(b.jsx)("img",{src:n(22).default,alt:""}),t.comments.length]}),Object(b.jsx)("button",{onClick:function(){return c("/blog-api/"+t._id)},children:"Open post"})]},e)}))})},O=(n(23),n(7)),x=n(9),d=n(12),f=(n(24),function(){var t=Object(l.g)().id,e=Object(c.useState)({}),n=Object(u.a)(e,2),s=n[0],r=n[1],a=Object(c.useState)({}),o=Object(u.a)(a,2),p=o[0],m=o[1],O=Object(l.f)();function f(){return(f=Object(j.a)(i.a.mark((function e(){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://obscure-refuge-23971.herokuapp.com/api/posts/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,r(c.post),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[t,p]);var g=function(t){m(Object(d.a)(Object(d.a)({},p),{},Object(x.a)({},t.target.name,t.target.value)))};return Object(b.jsxs)("div",{className:"fullpost-container",children:[Object(b.jsx)("button",{onClick:function(){return O("/blog-api/")},children:"Go back"}),Object(b.jsx)("h1",{children:s.title}),Object(b.jsxs)("h3",{children:["by ",s.author]}),s.timestamp&&Object(b.jsxs)("p",{children:[Object(h.a)(new Date(s.timestamp),new Date)," ","ago"]}),Object(b.jsx)("p",{className:"post-text",children:s.text}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://obscure-refuge-23971.herokuapp.com/api/posts/".concat(t,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:p.author,text:p.text,reference:t})}).catch((function(t){return console.log(t)})),m({})},children:[Object(b.jsx)("p",{children:"Got something to say ?"}),Object(b.jsx)("input",{type:"text",required:!0,name:"author",onChange:g,placeholder:"Enter your name"}),Object(b.jsx)("textarea",{type:"text",required:!0,name:"text",onChange:g,placeholder:"Enter some text"}),Object(b.jsx)("input",{type:"submit"})]}),Object(b.jsx)("div",{className:"post-comments-container",children:s.comments&&s.comments.map((function(t,e){return Object(b.jsxs)("div",{className:"post-comment",children:[Object(b.jsx)("p",{children:t.text}),Object(b.jsxs)("p",{children:[" by ",t.author]}),t.timestamp&&Object(b.jsxs)("p",{children:[Object(h.a)(new Date(t.timestamp),new Date)," ","ago"]})]},e)}))})]})}),g=(n(25),function(){return Object(b.jsxs)("footer",{children:[Object(b.jsx)("p",{children:"\xa9 Jonthejon10, 2021"}),Object(b.jsx)("button",{className:"github-button",onClick:function(){window.open("https://github.com/Jonthejon10")}})]})}),v=function(){var t=Object(c.useState)([]),e=Object(u.a)(t,2),n=e[0],s=e[1];return Object(c.useEffect)((function(){function t(){return(t=Object(j.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://obscure-refuge-23971.herokuapp.com/api/posts");case 3:return e=t.sent,t.next=6,e.json();case 6:n=t.sent,s(n.posts),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)(O.a,{children:[Object(b.jsx)(p,{}),Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{exact:!0,path:"/blog-api/",element:Object(b.jsx)(m,{posts:n})}),Object(b.jsx)(l.a,{exact:!0,path:"/blog-api/:id",element:Object(b.jsx)(f,{})})]}),Object(b.jsx)(g,{})]})})};a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.f277591b.chunk.js.map