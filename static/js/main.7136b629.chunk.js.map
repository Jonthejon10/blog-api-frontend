{"version":3,"sources":["images/comments.svg","components/Navbar.js","components/Posts.js","components/Fullpost.js","components/Footer.js","App.js","index.js"],"names":["Navbar","Posts","filteredPosts","posts","filter","x","visible","navigate","useNavigate","className","map","item","index","title","author","timestamp","formatDistance","Date","src","require","default","alt","comments","length","onClick","_id","Fullpost","id","useParams","useState","currPost","setCurrPost","comment","setComment","fetchPostData","a","fetch","res","json","resJson","post","console","error","useEffect","interval","setInterval","clearInterval","handleChange","e","target","name","value","text","onSubmit","event","preventDefault","method","headers","body","JSON","stringify","reference","catch","err","log","newArr","push","type","required","onChange","placeholder","Footer","window","open","App","setPosts","fetchData","exact","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7136b629.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/comments.475722ba.svg\";","import React from 'react'\nimport '../styles/Navbar.css'\n\nconst Navbar = () => {\n    return (\n        <nav>\n            <h1>Just a simple blog.</h1>\n        </nav>\n    )\n}\n\nexport default Navbar","import React from 'react'\nimport '../styles/posts.css'\nimport { useNavigate } from 'react-router-dom'\nimport formatDistance from 'date-fns/formatDistance'\n\nconst Posts = ({ posts }) => {\n\t\n\tconst filteredPosts = posts.filter(x => x.visible === true)\n\n    const navigate = useNavigate()\n\n    return (\n\t\t<div className='posts-container'>\n\t\t\t{filteredPosts.map((item, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div key={index} className='post-container'>\n\t\t\t\t\t\t<h2>{item.title}</h2>\n\t\t\t\t\t\t<h3> by {item.author}</h3>\n\t\t\t\t\t\t{item.timestamp && (\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{formatDistance(\n\t\t\t\t\t\t\t\t\tnew Date(item.timestamp),\n\t\t\t\t\t\t\t\t\tnew Date()\n\t\t\t\t\t\t\t\t)}{' '}\n\t\t\t\t\t\t\t\tago\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<div className='comments-container'>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={require('../images/comments.svg').default}\n\t\t\t\t\t\t\t\talt=''\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{item.comments.length}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => navigate('/blog-frontend/' + item._id)}>\n\t\t\t\t\t\t\tOpen post\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})}\n\t\t</div>\n\t)\n}\n\nexport default Posts","import React, {useState, useEffect} from 'react'\nimport '../styles/Fullpost.css'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport formatDistance from 'date-fns/formatDistance'\n\nconst Fullpost = () => {\n\n\t// Current post id\n    const { id } = useParams()\n\n    const [currPost, setCurrPost] = useState({})\n    \n    const [comment, setComment] = useState({})\n\n    const navigate = useNavigate()\n\n\t// Geting post from DB\n\tasync function fetchPostData() {\n\t\ttry {\n\t\t\tconst res = await fetch(`https://obscure-refuge-23971.herokuapp.com/api/posts/${id}`)\n\t\t\tconst resJson = await res.json()\n\t\t\tsetCurrPost(resJson.post)\n\t\t} catch (error) {\n\t\t\tconsole.error(error)\n\t\t}\n\t}\n\n    useEffect(() => {\n\t\tfetchPostData()\n\n\t\tconst interval = setInterval(() => {\n\t\t\tfetchPostData()\n\t\t}, 10000)\n\n\t\treturn () => clearInterval(interval)\n\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [id])\n\n\t// Comment change\n\tconst handleChange = (e) => {\n\t\tsetComment({\n\t\t\t...comment,\n\t\t\t[e.target.name]: e.target.value,\n\t\t})\n\t}\n\t\n\t// Comment submit\n    const handleSubmit = event => {\n        event.preventDefault()\n        fetch(`https://obscure-refuge-23971.herokuapp.com/api/posts/${id}/comments`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tauthor: comment.author,\n\t\t\t\ttext: comment.text,\n\t\t\t\treference: id,\n\t\t\t}),\n\t\t}).catch((err) => console.log(err))\n\t\tconst newArr = [...currPost.comments]\n\t\tnewArr.push(comment)\n\t\tsetCurrPost({ ...currPost, comments: [...newArr] })\n\t\tsetComment({})\n    }\n\n    return (\n\t\t<div className='fullpost-container'>\n\t\t\t<button onClick={() => navigate('/blog-frontend/')}>Go back</button>\n\n\t\t\t<h1>{currPost.title}</h1>\n\n\t\t\t<h3>by {currPost.author}</h3>\n\n\t\t\t{currPost.timestamp && (\n\t\t\t\t<p>\n\t\t\t\t\t{formatDistance(new Date(currPost.timestamp), new Date())}{' '}\n\t\t\t\t\tago\n\t\t\t\t</p>\n\t\t\t)}\n\n\t\t\t<p className='post-text'>{currPost.text}</p>\n\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<p>Got something to say ?</p>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired={true}\n\t\t\t\t\tname='author'\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tplaceholder='Enter your name'></input>\n\t\t\t\t<textarea\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired={true}\n\t\t\t\t\tname='text'\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tplaceholder='Enter some text'/>\n\t\t\t\t<input type='submit'/>\n\t\t\t</form>\n\n\t\t\t<div className='post-comments-container'>\n\t\t\t\t{currPost.comments &&\n\t\t\t\t\tcurrPost.comments.map((item, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={index} className='post-comment'>\n\t\t\t\t\t\t\t\t<p>{item.text}</p>\n\t\t\t\t\t\t\t\t<p> by {item.author}</p>\n\t\t\t\t\t\t\t\t{item.timestamp && (\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t{formatDistance(\n\t\t\t\t\t\t\t\t\t\t\tnew Date(item.timestamp),\n\t\t\t\t\t\t\t\t\t\t\tnew Date()\n\t\t\t\t\t\t\t\t\t\t)}{' '}\n\t\t\t\t\t\t\t\t\t\tago\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Fullpost","import React from 'react'\nimport '../styles/Footer.css'\n\nconst Footer = () => {\n\n    const handleClick = () => {\n        window.open('https://github.com/Jonthejon10')\n    }\n\n    return (\n\t\t<footer>\n\t\t\t<p>Â© Jonthejon10, 2021</p>\n\t\t\t<button className='github-button' onClick={handleClick}></button>\n\t\t</footer>\n\t)\n}\n\nexport default Footer","import React, { useEffect, useState } from 'react'\nimport Navbar from './components/Navbar';\nimport Posts from './components/Posts'\nimport './styles/App.css'\nimport { BrowserRouter, Routes, Route } from 'react-router-dom'\nimport Fullpost from './components/Fullpost';\nimport Footer from './components/Footer'\n\nconst App = () => {\n\n  const [posts, setPosts] = useState([])\n\n  // Fetching posts from DB\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const res = await fetch(\n\t\t\t'https://obscure-refuge-23971.herokuapp.com/api/posts'\n\t\t)\n        const resJson = await res.json()\n        setPosts(resJson.posts)\n      } catch (error) {\n        console.error(error)\n      }\n    }\n    fetchData()\n  }, [])\n  \n  return (\n\t\t<div className='container'>\n\t\t\t<BrowserRouter>\n\t\t\t\t<Navbar />\n\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath='/blog-frontend/'\n\t\t\t\t\t\telement={<Posts posts={posts} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath='/blog-frontend/:id'\n\t\t\t\t\t\telement={<Fullpost />}\n\t\t\t\t\t/>\n\t\t\t\t</Routes>\n\n\t\t\t\t<Footer />\n\t\t\t</BrowserRouter>\n\t\t</div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}